# Chart Visualization Guide

## 概述

本文档描述了市场杠杆分析系统中7个核心指标的可视化图表设计。每张图表都经过精心设计，以最大化信息密度和用户体验，帮助用户快速理解市场趋势和风险水平。

---

## 图表1: Market Leverage Ratio (市场杠杆比率)

### 图表类型
**线形图 (Line Chart)**

### 设计规格

#### 基础属性
- **图表尺寸**: 1200px × 600px
- **图表类型**: 折线图 + 填充区域
- **颜色主题**: 主色调 #ff7f0e (橙色)
- **数据点**: 188个月度数据点

#### 视觉元素

**主线条**
- 线条颜色: `#ff7f0e` (橙色)
- 线条宽度: 2px
- 数据点标记: 圆形，直径 4px，颜色 #ff7f0e
- 线条样式: 实线

**区域填充**
- 填充颜色: `rgba(255, 127, 14, 0.1)` (橙色，10%透明度)
- 填充范围: 从零线到杠杆比率线

**网格线**
- 水平网格线: 每0.2%一个刻度
- 垂直网格线: 每12个月一个刻度
- 网格线颜色: `#e0e0e0`
- 网格线宽度: 1px

#### 坐标轴

**X轴 (时间轴)**
- 标签格式: YYYY-MM
- 标签角度: 45度旋转
- 标签位置: 底部
- 日期范围: 2010-02 至 2025-09

**Y轴 (杠杆比率)**
- 单位: 百分比 (%)
- 显示格式: 0.0%
- 数值范围: 0% - 2%
- 刻度间隔: 0.2%

#### 风险区域标识

**正常区域**
- 颜色: `rgba(46, 204, 113, 0.05)` (绿色，5%透明度)
- 范围: 0% - 0.8%

**警告区域**
- 颜色: `rgba(241, 196, 15, 0.05)` (黄色，5%透明度)
- 范围: 0.8% - 1.5%

**高风险区域**
- 颜色: `rgba(231, 76, 60, 0.05)` (红色，5%透明度)
- 范围: 1.5% - 2.0%

#### 交互功能
- 悬停显示详细数值
- 缩放和平移功能
- 时间范围选择器

#### 标题和标签
- 图表标题: "市场杠杆比率趋势 (2010-2025)"
- 副标题: "Margin Debt / Market Capitalization"
- X轴标题: "时间"
- Y轴标题: "杠杆比率 (%)"

---

## 图表2: Money Supply Ratio (货币供应比率)

### 图表类型
**面积图 (Area Chart)**

### 设计规格

#### 基础属性
- **图表尺寸**: 1200px × 600px
- **图表类型**: 面积图 + 趋势线
- **颜色主题**: 主色调 #2ca02c (绿色)
- **数据点**: 188个月度数据点

#### 视觉元素

**面积填充**
- 填充颜色: `rgba(44, 160, 44, 0.3)` (绿色，30%透明度)
- 边界线颜色: `#2ca02c` (绿色)
- 边界线宽度: 2px

**趋势线**
- 线条颜色: `#1a1a1a` (深灰)
- 线条宽度: 1px
- 线条样式: 虚线 (dash)

#### 坐标轴

**X轴**
- 与图表1相同的配置
- 标签格式: YYYY-MM

**Y轴 (货币供应比率)**
- 单位: 百分比 (%)
- 显示格式: 0.00%
- 数值范围: 0% - 0.5%
- 刻度间隔: 0.05%

#### 注释标记

**关键事件标注**
- 2008金融危机: 2008-09
- COVID-19刺激: 2020-03
- 2022加息周期: 2022-03

#### 标题和标签
- 图表标题: "货币供应比率变化 (2010-2025)"
- 副标题: "Margin Debt / M2 Money Supply"
- Y轴标题: "货币供应比率 (%)"

---

## 图表3: Interest Cost Analysis (利息成本分析)

### 图表类型
**组合图 (Combination Chart)**

### 设计规格

#### 基础属性
- **图表尺寸**: 1400px × 700px
- **图表类型**: 双Y轴组合图
- **左轴**: 利息成本 (柱状图)
- **右轴**: 利率 (线形图)

#### 视觉元素

**柱状图 (利息成本)**
- 柱宽: 80% 间隙宽度
- 柱颜色: `rgba(52, 152, 219, 0.6)` (蓝色)
- 边框颜色: `#3498db`
- 边框宽度: 1px

**折线图 (联邦基金利率)**
- 线条颜色: `#e74c3c` (红色)
- 线条宽度: 3px
- 数据点: 菱形标记，直径 6px

#### 坐标轴

**左Y轴 (利息成本)**
- 单位: 百万美元 (Million $)
- 数值范围: 0 - 50,000 Million
- 刻度间隔: 5,000 Million

**右Y轴 (利率)**
- 单位: 百分比 (%)
- 数值范围: 0% - 6%
- 刻度间隔: 0.5%

**X轴**
- 与其他图表相同配置

#### 标题和标签
- 图表标题: "利息成本与利率分析 (2010-2025)"
- 左Y轴标题: "年度利息成本 (百万美元)"
- 右Y轴标题: "联邦基金利率 (%)"

---

## 图表4: Leverage Change Rate (杠杆变化率)

### 图表类型
**双线图 (Dual-Line Chart)**

### 设计规格

#### 基础属性
- **图表尺寸**: 1200px × 650px
- **图表类型**: 双线图 + 零线标识
- **数据系列**: YoY (橙色) + MoM (紫色)

#### 视觉元素

**YoY变化率线**
- 线条颜色: `#ff7f0e` (橙色)
- 线条宽度: 2.5px
- 数据点: 圆形，直径 5px
- 透明度: 0.8

**MoM变化率线**
- 线条颜色: `#9467bd` (紫色)
- 线条宽度: 2px
- 数据点: 方形，边长 4px
- 透明度: 0.6

**零线**
- 线条颜色: `#2c3e50` (深蓝灰)
- 线条宽度: 2px
- 线条样式: 实线

#### 填充区域

**正变化区域**
- YoY填充: `rgba(255, 127, 14, 0.1)` (橙色，10%透明度)
- MoM填充: `rgba(148, 103, 189, 0.1)` (紫色，10%透明度)

**负变化区域**
- YoY填充: `rgba(255, 127, 14, -0.1)` (反向填充)
- MoM填充: `rgba(148, 103, 189, -0.1)` (反向填充)

#### 坐标轴

**Y轴 (变化率)**
- 单位: 百分比 (%)
- 数值范围: -50% - +50%
- 刻度间隔: 10%

#### 图例
- 位置: 图表右上角
- 背景: 半透明白色
- 边框: 1px灰色

#### 标题和标签
- 图表标题: "杠杆变化率分析 (YoY vs MoM)"
- Y轴标题: "变化率 (%)"
- 图例标签: "年度同比 (YoY)", "月度环比 (MoM)"

---

## 图表5: Investor Net Worth (投资者净资产)

### 图表类型
**阶梯图 + 趋势线 (Step Chart + Trend Line)**

### 设计规格

#### 基础属性
- **图表尺寸**: 1200px × 700px
- **图表类型**: 阶梯图 + 拟合趋势线
- **颜色主题**: 主色调 #2ca02c (绿色)

#### 视觉元素

**阶梯图 (净资产)**
- 阶梯类型: 恒定阶梯 (constant)
- 线条颜色: `#2ca02c` (绿色)
- 线条宽度: 3px
- 填充颜色: `rgba(46, 204, 113, 0.2)` (绿色，20%透明度)

**趋势线 (拟合)**
- 线条颜色: `#34495e` (深灰)
- 线条宽度: 2px
- 线条样式: 虚线
- 透明度: 0.7

#### 坐标轴

**Y轴 (净资产)**
- 单位: 万亿美元 (Trillion $)
- 显示格式: 0.0T
- 数值范围: 20T - 50T
- 刻度间隔: 2T

**X轴**
- 与其他图表相同配置

#### 统计信息框

**关键指标显示**
- 当前净资产
- 历史最高值
- 历史最低值
- 平均增长率

**信息框位置**: 图表左上角
**背景颜色**: 白色 (80%透明度)
**边框**: 1px深灰色

#### 标题和标签
- 图表标题: "投资者净资产变化趋势 (2010-2025)"
- 副标题: "Market Capitalization - Margin Debt"
- Y轴标题: "净资产 (万亿美元)"
- X轴标题: "时间"

---

## 图表6: Vulnerability Index (脆弱性指数)

### 图表类型
**线形图 + 风险区域 (Line Chart + Risk Zones)**

### 设计规格

#### 基础属性
- **图表尺寸**: 1400px × 700px
- **图表类型**: 折线图 + 区域填充
- **颜色主题**: 主色调 #1f77b4 (蓝色)

#### 视觉元素

**主线条**
- 线条颜色: `#1f77b4` (蓝色)
- 线条宽度: 3px
- 数据点: 圆形，直径 5px
- 线条样式: 实线

#### 风险区域分层

**低风险区域 (VI < -3.0)**
- 填充颜色: `rgba(46, 204, 113, 0.1)` (绿色，10%透明度)
- 边界线: 绿色虚线
- 标签: "低风险"

**正常区域 (-3.0 ≤ VI ≤ 0.5)**
- 填充颜色: `rgba(52, 152, 219, 0.1)` (蓝色，10%透明度)
- 边界线: 蓝色虚线
- 标签: "正常"

**中等风险区域 (0.5 < VI ≤ 1.5)**
- 填充颜色: `rgba(241, 196, 15, 0.1)` (黄色，10%透明度)
- 边界线: 黄色虚线
- 标签: "中等风险"

**高风险区域 (1.5 < VI ≤ 3.0)**
- 填充颜色: `rgba(230, 126, 34, 0.1)` (橙色，10%透明度)
- 边界线: 橙色虚线
- 标签: "高风险"

**极高风险区域 (VI > 3.0)**
- 填充颜色: `rgba(231, 76, 60, 0.1)` (红色，10%透明度)
- 边界线: 红色虚线
- 标签: "极高风险"

#### 坐标轴

**Y轴 (脆弱性指数)**
- 数值范围: -5 - +5
- 刻度间隔: 1
- 零线标识: 粗黑线

**X轴**
- 与其他图表相同配置

#### 重要事件标记

**重大事件标注**
- 2020-03: COVID-19危机
- 2022-03: 加息周期开始
- 2024-12: 市场高点

**标注样式**
- 形状: 倒三角
- 颜色: 红色
- 位置: 线条上方
- 连接线: 虚线

#### 标题和标签
- 图表标题: "脆弱性指数趋势 (2010-2025)"
- 副标题: "Leverage Z-Score - VIX Z-Score"
- Y轴标题: "脆弱性指数"
- X轴标题: "时间"

---

## 图表7: VIX vs Leverage (VIX与杠杆比较分析)

### 图表类型
**双Y轴散点图 + 趋势线 (Dual-Axis Scatter Plot + Trend Line)**

### 设计规格

#### 基础属性
- **图表尺寸**: 1400px × 800px
- **图表类型**: 散点图 + 回归线 + 时间序列
- **左轴**: 杠杆比率
- **右轴**: VIX指数

#### 视觉元素

**散点图**
- 散点大小: 根据时间变化 (早期小，后期大)
- 散点颜色: 根据年份渐变 (蓝色→红色)
- 散点形状: 圆形
- 散点透明度: 0.6

**时间序列线**
- 线条颜色: `rgba(52, 152, 219, 0.3)` (蓝色，30%透明度)
- 线条宽度: 2px
- 显示方向: 时间进展路径

**回归线**
- 线条颜色: `#e74c3c` (红色)
- 线条宽度: 3px
- 线条样式: 粗实线
- 置信区间: 95% (阴影区域)

#### 坐标轴

**左Y轴 (市场杠杆比率)**
- 单位: 百分比 (%)
- 数值范围: 0% - 1.5%
- 刻度间隔: 0.2%
- 标签颜色: #3498db (蓝色)

**右Y轴 (VIX指数)**
- 数值范围: 0 - 80
- 刻度间隔: 10
- 标签颜色: #e74c3c (红色)

**X轴 (时间)**
- 显示格式: YYYY
- 刻度间隔: 2年

#### 相关性信息框

**统计信息**
- 相关系数 (r)
- R²决定系数
- P值
- 样本数量

**信息框位置**: 图表右上角
**背景**: 半透明白色
**边框**: 2px

#### 象限分析

**象限划分**
- 象限I: 高杠杆 + 高VIX (右上)
- 象限II: 低杠杆 + 高VIX (左上)
- 象限III: 低杠杆 + 低VIX (左下)
- 象限IV: 高杠杆 + 低VIX (右下)

**象限标识**
- 背景色: 半透明灰色
- 标签位置: 各象限中心
- 标签颜色: 深灰色

#### 标题和标签
- 图表标题: "VIX指数 vs 市场杠杆比率分析 (2010-2025)"
- 副标题: "散点图 + 回归分析"
- 左Y轴标题: "市场杠杆比率 (%)"
- 右Y轴标题: "VIX指数"
- X轴标题: "时间"

---

## 统一设计规范

### 颜色系统
- **主色调**: #1f77b4 (蓝色)
- **辅助色**: #ff7f0e (橙色), #2ca02c (绿色), #d62728 (红色)
- **中性色**: #7f7f7f (灰色), #2c3e50 (深蓝灰)
- **背景色**: #ffffff (白色), #f8f9fa (浅灰)

### 字体系统
- **标题字体**: 16px, 粗体
- **副标题字体**: 14px, 中等粗细
- **轴标签字体**: 12px, 常规
- **图例字体**: 11px, 常规

### 间距规范
- **图表边距**: 上下左右各50px
- **标题间距**: 上边距30px
- **轴标签间距**: 下边距40px，左边距60px
- **图例间距**: 距离图形10px

### 响应式设计
- **桌面端**: 完整显示所有元素
- **平板端**: 隐藏部分图例，缩小字体
- **移动端**: 简化图表，只保留核心信息

---

## 交互功能规范

### 通用交互
1. **悬停提示**
   - 显示精确数值
   - 显示时间信息
   - 背景高亮相关数据点

2. **缩放功能**
   - 鼠标滚轮缩放
   - 拖拽平移
   - 重置按钮

3. **数据筛选**
   - 时间范围选择器
   - 指标切换开关
   - 视图模式选择

### 特定交互
1. **图表1-2**: 单指标查看
2. **图表3**: 指标联动显示
3. **图表4**: 时间窗口切换
4. **图表5**: 趋势线切换
5. **图表6**: 风险阈值调整
6. **图表7**: 回归分析参数调整

---

## 技术实现建议

### 前端框架
- **推荐**: D3.js, ECharts, Plotly.js
- **备选**: Chart.js, Highcharts

### 性能优化
- **数据抽样**: 大数据集采用抽样显示
- **Canvas渲染**: 大数据量时使用Canvas替代SVG
- **懒加载**: 滚动到视窗时再加载图表
- **缓存**: 图表配置和计算结果缓存

### 导出功能
- **格式支持**: PNG, SVG, PDF
- **分辨率**: 300 DPI高清导出
- **批量导出**: 一键导出所有图表

---

## 无障碍设计

### 色彩对比
- **文字对比度**: 最低4.5:1
- **线条对比度**: 最低3:1
- **色彩盲友好**: 使用形状和纹理辅助颜色

### 替代文本
- **图表描述**: 每张图表提供文字描述
- **数据表格**: 提供数据表格作为图表替代
- **关键信息**: 在图表下方提供文字总结

---

## 更新日志

- **v1.0.0** (2025-11-19): 初始图表设计文档
  - 7个核心指标图表规格
  - 统一设计规范
  - 交互功能定义
  - 技术实现建议

---

## 联系方式

- 项目: levAnalyzeMM
- 可视化版本: 1.0.0
- 文档更新: 2025-11-19
